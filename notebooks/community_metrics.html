
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Github Metrics- Growth of a Repo’s Community &#8212; Sandiego</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Github Activity Metrics-Issues" href="issue_activity.html" />
    <link rel="prev" title="Github Activity Metrics-Commits" href="commits_activity.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">Sandiego</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Project Sandiego
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="START_HERE.html">
   Introduction to connecting and Querying the Augur DB
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Explore Your Community
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="commits_activity.html">
   Github Activity Metrics-Commits
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Github Metrics- Growth of a Repo’s Community
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="issue_activity.html">
   Github Activity Metrics-Issues
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pr_activity.html">
   Github Activity Metrics-Pull Requests
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Community Analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="demo_augur/new_contributor_template.html">
   New Contributor Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="demo_augur/contributor_risk_template.html">
   Contributor Risk Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="demo_augur/pull_request_analysis_template.html">
   Pull Request Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="demo_augur/response_time_bus_days_template.html">
   PR Response Time Analysis (Business Days)
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/community_metrics.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/sandiego-rh/sandiego"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/sandiego-rh/sandiego/issues/new?title=Issue%20on%20page%20%2Fnotebooks/community_metrics.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/sandiego-rh/sandiego/master?urlpath=lab/tree/notebooks/community_metrics.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://jupyterhub-opf-jupyterhub.apps.zero.massopen.cloud/hub/user-redirect/git-pull?repo=https://github.com/sandiego-rh/sandiego&urlpath=lab/tree/sandiego/notebooks/community_metrics.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Github Metrics- Growth of a Repo’s Community
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#control-cell-set-variables-and-filters">
   Control Cell - Set Variables and Filters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#growth-of-novel-first-time-issue-submitters-over-time">
   Growth of novel (first-time) issue submitters over time
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#query-for-repo-s-issues-ascending-time">
     Query for repo’s issues, ascending time
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#drop-all-duplicate-reporter-id-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
     Drop all duplicate reporter_id’s except for their first occurrence; re-sort in ascending order.
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#new-issue-creators-over-time">
     New issue creators over time
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#growth-of-novel-first-time-pr-submitters-over-time">
   Growth of novel (first-time) PR submitters over time
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#query-for-user-who-made-pr-and-timestamp-of-pr">
     Query for user who made PR and timestamp of PR
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#drop-all-duplicate-pr-src-id-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
     Drop all duplicate pr_src_id’s except for their first occurrence; re-sort in ascending order.
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#new-pr-makers-over-time">
     New PR makers over time
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#number-of-augur-contributors-differentiated-as-committer-and-author">
   Number of Augur contributors, differentiated as “Committer” and “Author
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#query-for-first-time-committers-and-first-time-authors-each-sorted-in-ascending-order">
     Query for first-time committers and first-time authors, each sorted in ascending order
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#drop-all-duplicate-cmt-committer-name-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
     Drop all duplicate cmt_committer_name’s except for their first occurrence; re-sort in ascending order
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#first-time-commit-makers-over-time">
     First-time commit makers over time
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#drop-all-duplicate-cmt-author-name-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
     Drop all duplicate cmt_author_name’s except for their first occurrence; re-sort in ascending order
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#first-time-commit-authors-over-time">
     First-time commit authors over time
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison-of-growth-between-new-authors-and-new-committers">
     Comparison of growth between new authors and new committers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#organizational-diversity">
   Organizational diversity
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#number-of-users">
   Number of Users
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="github-metrics-growth-of-a-repo-s-community">
<h1>Github Metrics- Growth of a Repo’s Community<a class="headerlink" href="#github-metrics-growth-of-a-repo-s-community" title="Permalink to this headline">¶</a></h1>
<p>note: <a class="reference external" href="https://www.zainrizvi.io/blog/jupyter-notebooks-best-practices-use-virtual-environments/">https://www.zainrizvi.io/blog/jupyter-notebooks-best-practices-use-virtual-environments/</a> for setting up virtual environments in this RHODs JL instance.</p>
<p>This notebook will aim to query the Augur DB to access the neccessary information to be able to get the following metrics dirived from the GitHub Community Metrics working document <a class="reference external" href="https://docs.google.com/document/d/1Yocr6fk0J8EsVZnJwoIl3kRQaI94tI-XHe7VSMFT0yM/edit?usp=sharing">https://docs.google.com/document/d/1Yocr6fk0J8EsVZnJwoIl3kRQaI94tI-XHe7VSMFT0yM/edit?usp=sharing</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">salc</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">BusinessDay</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">MaxNLocator</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../../../config_temp.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

<span class="n">database_connection_string</span> <span class="o">=</span> <span class="s1">&#39;postgresql+psycopg2://</span><span class="si">{}</span><span class="s1">:</span><span class="si">{}</span><span class="s1">@</span><span class="si">{}</span><span class="s1">:</span><span class="si">{}</span><span class="s1">/</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span> 
                                                                           <span class="n">config</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> 
                                                                           <span class="n">config</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span> 
                                                                           <span class="n">config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">],</span> 
                                                                           <span class="n">config</span><span class="p">[</span><span class="s1">&#39;database&#39;</span><span class="p">])</span>

<span class="n">dbschema</span><span class="o">=</span><span class="s1">&#39;augur_data&#39;</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span>
    <span class="n">database_connection_string</span><span class="p">,</span>
    <span class="n">connect_args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="s1">&#39;-csearch_path=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dbschema</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="control-cell-set-variables-and-filters">
<h1>Control Cell - Set Variables and Filters<a class="headerlink" href="#control-cell-set-variables-and-filters" title="Permalink to this headline">¶</a></h1>
<p>The cell below is for generating repo_ids from the repo names. For this to work, the repo must already be in the database. If you want to manually assign a repo_id skip the cell below and read the comments on the next cell.</p>
<p>In other words, this cell translates a repo’s name (augur or grimoirelab) into their respective repo-id.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#add your repo name(s) here of the repo(s) you want to query if known (and in the database)</span>
<span class="c1">#repo_name_set = [&#39;augur&#39;, &#39;grimoirelab&#39;]</span>
<span class="n">repo_name_set</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;augur&#39;</span><span class="p">]</span>
<span class="n">repo_set</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">repo_name</span> <span class="ow">in</span> <span class="n">repo_name_set</span><span class="p">:</span>
    <span class="n">repo_query</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                 SET SCHEMA &#39;augur_data&#39;;</span>
<span class="s2">                 SELECT </span>
<span class="s2">                    b.repo_id</span>
<span class="s2">                FROM</span>
<span class="s2">                    repo_groups a,</span>
<span class="s2">                    repo b</span>
<span class="s2">                WHERE</span>
<span class="s2">                    a.repo_group_id = b.repo_group_id AND</span>
<span class="s2">                    b.repo_name = </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">repo_name</span><span class="si">}</span><span class="se">\&#39;</span><span class="s2"></span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">repo_query</span><span class="p">)</span>
    <span class="n">repo_id</span> <span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">mappings</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;repo_id&#39;</span><span class="p">)</span>
    <span class="n">repo_set</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repo_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">repo_set</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[25440]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="growth-of-novel-first-time-issue-submitters-over-time">
<h1>Growth of novel (first-time) issue submitters over time<a class="headerlink" href="#growth-of-novel-first-time-issue-submitters-over-time" title="Permalink to this headline">¶</a></h1>
<p>We are interested in the growth of new people submitting issues to a project over time.</p>
<p>Over time, we expect to see the number of novel issue-submitters strictly increase and with a relatively constant slope.</p>
<p>This measurement is derived from removing all non-unique and non-first entries of the same reporter_id. We are then able to track the timestamps in order of first-time issue submissions.
The resulting plot will show the growth in the number of novel issue submitors vs. time.</p>
<div class="section" id="query-for-repo-s-issues-ascending-time">
<h2>Query for repo’s issues, ascending time<a class="headerlink" href="#query-for-repo-s-issues-ascending-time" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_issues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">repo_id</span> <span class="ow">in</span> <span class="n">repo_set</span><span class="p">:</span> 

    <span class="n">pr_query</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                SELECT</span>
<span class="s2">                    i.reporter_id,</span>
<span class="s2">                    i.created_at</span>
<span class="s2">                FROM</span>
<span class="s2">                	issues i</span>
<span class="s2">                WHERE</span>
<span class="s2">                    i.repo_id = </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">repo_id</span><span class="si">}</span><span class="se">\&#39;</span><span class="s2"></span>
<span class="s2">                 ORDER BY</span>
<span class="s2">                    i.created_at</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">df_current_repo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">pr_query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
    <span class="n">df_issues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_issues</span><span class="p">,</span> <span class="n">df_current_repo</span><span class="p">])</span>

<span class="n">df_issues</span> <span class="o">=</span> <span class="n">df_issues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_issues</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_issues</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>reporter_id</th>
      <th>created_at</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>280508</td>
      <td>2017-01-20 14:56:01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>280508</td>
      <td>2017-01-20 15:04:01</td>
    </tr>
    <tr>
      <th>2</th>
      <td>277697</td>
      <td>2017-01-20 20:15:51</td>
    </tr>
    <tr>
      <th>3</th>
      <td>280523</td>
      <td>2017-01-23 18:00:23</td>
    </tr>
    <tr>
      <th>4</th>
      <td>280508</td>
      <td>2017-01-23 18:50:08</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="drop-all-duplicate-reporter-id-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
<h2>Drop all duplicate reporter_id’s except for their first occurrence; re-sort in ascending order.<a class="headerlink" href="#drop-all-duplicate-reporter-id-s-except-for-their-first-occurrence-re-sort-in-ascending-order" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get only the first incidence of an issue-creator posting.</span>
<span class="n">df_issues</span> <span class="o">=</span> <span class="n">df_issues</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s2">&quot;reporter_id&quot;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>

<span class="c1"># sort the values by the time/date of post.</span>
<span class="n">df_issues</span> <span class="o">=</span> <span class="n">df_issues</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;created_at&quot;</span><span class="p">)</span>

<span class="c1"># reset the index and drop the index - gets rid of sorting index issue.</span>
<span class="n">df_issues</span> <span class="o">=</span> <span class="n">df_issues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_issues</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># reset the index so index is a column, increasing (1,df.size+1)</span>
<span class="n">df_issues</span> <span class="o">=</span> <span class="n">df_issues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="new-issue-creators-over-time">
<h2>New issue creators over time<a class="headerlink" href="#new-issue-creators-over-time" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the index of creation vs. the creation date.</span>
<span class="n">df_issues</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;created_at&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;# of New Augur Issue Creators vs. Time&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;# of New Augur Issue Creators vs. Time&#39;}, xlabel=&#39;created_at&#39;&gt;
</pre></div>
</div>
<img alt="../_images/community_metrics_14_1.png" src="../_images/community_metrics_14_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="growth-of-novel-first-time-pr-submitters-over-time">
<h1>Growth of novel (first-time) PR submitters over time<a class="headerlink" href="#growth-of-novel-first-time-pr-submitters-over-time" title="Permalink to this headline">¶</a></h1>
<p>We use the same logic as that of novel issue-submitters to find the rate of novel PR’ing for the repo.</p>
<div class="section" id="query-for-user-who-made-pr-and-timestamp-of-pr">
<h2>Query for user who made PR and timestamp of PR<a class="headerlink" href="#query-for-user-who-made-pr-and-timestamp-of-pr" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">repo_id</span> <span class="ow">in</span> <span class="n">repo_set</span><span class="p">:</span> 

    <span class="n">pr_query</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                SELECT</span>
<span class="s2">                    p.pr_augur_contributor_id as pr_src_id,</span>
<span class="s2">                    p.pr_created_at</span>
<span class="s2">                FROM</span>
<span class="s2">                	pull_requests p</span>
<span class="s2">                WHERE</span>
<span class="s2">                    p.repo_id = </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">repo_id</span><span class="si">}</span><span class="se">\&#39;</span><span class="s2"></span>
<span class="s2">                 ORDER BY</span>
<span class="s2">                    p.pr_created_at</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">df_current_repo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">pr_query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
    <span class="n">df_pr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_pr</span><span class="p">,</span> <span class="n">df_current_repo</span><span class="p">])</span>

<span class="n">df_pr</span> <span class="o">=</span> <span class="n">df_pr</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_pr</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_pr</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pr_src_id</th>
      <th>pr_created_at</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>277141</td>
      <td>2017-01-23 18:50:08</td>
    </tr>
    <tr>
      <th>1</th>
      <td>277141</td>
      <td>2017-01-31 17:08:16</td>
    </tr>
    <tr>
      <th>2</th>
      <td>277713</td>
      <td>2017-02-01 20:33:36</td>
    </tr>
    <tr>
      <th>3</th>
      <td>277821</td>
      <td>2017-02-01 20:39:53</td>
    </tr>
    <tr>
      <th>4</th>
      <td>277714</td>
      <td>2017-02-01 20:41:17</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="drop-all-duplicate-pr-src-id-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
<h2>Drop all duplicate pr_src_id’s except for their first occurrence; re-sort in ascending order.<a class="headerlink" href="#drop-all-duplicate-pr-src-id-s-except-for-their-first-occurrence-re-sort-in-ascending-order" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get only the first incidence of a user making a pr.</span>
<span class="n">df_pr</span> <span class="o">=</span> <span class="n">df_pr</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s2">&quot;pr_src_id&quot;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>

<span class="c1"># sort the values by the time/date of pr.</span>
<span class="n">df_pr</span> <span class="o">=</span> <span class="n">df_pr</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;pr_created_at&quot;</span><span class="p">)</span>

<span class="c1"># reset the index and drop the index - gets rid of sorting index problem.</span>
<span class="n">df_pr</span> <span class="o">=</span> <span class="n">df_pr</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_pr</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># reset the index so index is a column, increasing (1,df.size+1)</span>
<span class="n">df_pr</span> <span class="o">=</span> <span class="n">df_pr</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="new-pr-makers-over-time">
<h2>New PR makers over time<a class="headerlink" href="#new-pr-makers-over-time" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the index of creation vs. the creation date of PR.</span>
<span class="n">df_pr</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;pr_created_at&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;# Novel Augur PR Makers vs. Time&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;# Novel Augur PR Makers vs. Time&#39;}, xlabel=&#39;pr_created_at&#39;&gt;
</pre></div>
</div>
<img alt="../_images/community_metrics_22_1.png" src="../_images/community_metrics_22_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="number-of-augur-contributors-differentiated-as-committer-and-author">
<h1>Number of Augur contributors, differentiated as “Committer” and “Author<a class="headerlink" href="#number-of-augur-contributors-differentiated-as-committer-and-author" title="Permalink to this headline">¶</a></h1>
<p>“GitHub defines a Contributor as: “This user has previously committed to the &lt;repo name&gt; repository.”</p>
<p>Ref: <a class="reference external" href="https://stackoverflow.com/questions/28866799/difference-between-collaborator-and-contributor">https://stackoverflow.com/questions/28866799/difference-between-collaborator-and-contributor</a></p>
<p>Each commit has a ‘committer’ and an ‘author.’ In most cases, these are the same person. This is the case when one someone commits their own code.</p>
<p>It can also be the case, however, that someone might commit the code of another author, e.g. if cherry-picking some changes from another fork’s branch, without having written any code themselves. In this case, the author would be credited separately from the committer. But both of these individuals are considered contributors and are credited in the commit.</p>
<p>Therefore we can get the growth of contributorship by splitting commits into novel committers and novel authors.</p>
<p>We would expect to see the two grow together, as more often than not, one is both the committer and the author.</p>
<div class="section" id="query-for-first-time-committers-and-first-time-authors-each-sorted-in-ascending-order">
<h2>Query for first-time committers and first-time authors, each sorted in ascending order<a class="headerlink" href="#query-for-first-time-committers-and-first-time-authors-each-sorted-in-ascending-order" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pr_committers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df_pr_authors</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">repo_id</span> <span class="ow">in</span> <span class="n">repo_set</span><span class="p">:</span> 

    <span class="n">pr_query</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                SELECT</span>
<span class="s2">                    c.cmt_commit_hash,</span>
<span class="s2">                    c.cmt_committer_name,</span>
<span class="s2">                    c.cmt_committer_timestamp</span>
<span class="s2">                FROM</span>
<span class="s2">                	commits c</span>
<span class="s2">                WHERE</span>
<span class="s2">                    c.repo_id = </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">repo_id</span><span class="si">}</span><span class="se">\&#39;</span><span class="s2"></span>
<span class="s2">                 ORDER BY</span>
<span class="s2">                    c.cmt_committer_timestamp</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">df_current_repo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">pr_query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
    <span class="n">df_pr_committers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_pr_committers</span><span class="p">,</span> <span class="n">df_current_repo</span><span class="p">])</span>
    
<span class="k">for</span> <span class="n">repo_id</span> <span class="ow">in</span> <span class="n">repo_set</span><span class="p">:</span> 

    <span class="n">pr_query</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                SELECT</span>
<span class="s2">                    c.cmt_commit_hash,</span>
<span class="s2">                    c.cmt_author_name,</span>
<span class="s2">                    c.cmt_author_timestamp</span>
<span class="s2">                FROM</span>
<span class="s2">                	commits c</span>
<span class="s2">                WHERE</span>
<span class="s2">                    c.repo_id = </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">repo_id</span><span class="si">}</span><span class="se">\&#39;</span><span class="s2"></span>
<span class="s2">                 ORDER BY</span>
<span class="s2">                    c.cmt_author_timestamp</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">df_current_repo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">pr_query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
    <span class="n">df_pr_authors</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_pr_authors</span><span class="p">,</span> <span class="n">df_current_repo</span><span class="p">])</span>

<span class="n">df_pr_committers</span> <span class="o">=</span> <span class="n">df_pr_committers</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_pr_committers</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df_pr_authors</span> <span class="o">=</span> <span class="n">df_pr_authors</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_pr_authors</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="drop-all-duplicate-cmt-committer-name-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
<h2>Drop all duplicate cmt_committer_name’s except for their first occurrence; re-sort in ascending order<a class="headerlink" href="#drop-all-duplicate-cmt-committer-name-s-except-for-their-first-occurrence-re-sort-in-ascending-order" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort the committers by the commit timestamp and then keep only the first occurrence of a name.</span>

<span class="c1"># Get first submitted commit for a name.</span>
<span class="n">df_pr_committers_unique</span> <span class="o">=</span> <span class="n">df_pr_committers</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s2">&quot;cmt_committer_name&quot;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>

<span class="c1"># Sort by the time of their first commit.</span>
<span class="n">df_pr_committers_sorted_unique</span> <span class="o">=</span> <span class="n">df_pr_committers_unique</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;cmt_committer_timestamp&quot;</span><span class="p">)</span>

<span class="c1"># Finagle the index as a column to count number of committers.</span>
<span class="n">df_pr_committers_sorted_unique</span> <span class="o">=</span> <span class="n">df_pr_committers_sorted_unique</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_pr_committers_sorted_unique</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_pr_committers_sorted_unique</span> <span class="o">=</span> <span class="n">df_pr_committers_sorted_unique</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="first-time-commit-makers-over-time">
<h2>First-time commit makers over time<a class="headerlink" href="#first-time-commit-makers-over-time" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot number of unique committers over time.</span>
<span class="n">ax_committers</span> <span class="o">=</span> <span class="n">df_pr_committers_sorted_unique</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;cmt_committer_timestamp&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;# Novel Augur Commit Makers vs. Time&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/community_metrics_30_0.png" src="../_images/community_metrics_30_0.png" />
</div>
</div>
</div>
<div class="section" id="drop-all-duplicate-cmt-author-name-s-except-for-their-first-occurrence-re-sort-in-ascending-order">
<h2>Drop all duplicate cmt_author_name’s except for their first occurrence; re-sort in ascending order<a class="headerlink" href="#drop-all-duplicate-cmt-author-name-s-except-for-their-first-occurrence-re-sort-in-ascending-order" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort the authors by the author timestamp and then keep only the first occurrence of a name.</span>

<span class="c1"># Get first submitted authorship for a name.</span>
<span class="n">df_pr_authors_unique</span> <span class="o">=</span> <span class="n">df_pr_authors</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s2">&quot;cmt_author_name&quot;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>

<span class="c1"># Sort by the time of their first authorship.</span>
<span class="n">df_pr_authors_sorted_unique</span> <span class="o">=</span> <span class="n">df_pr_authors_unique</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;cmt_author_timestamp&quot;</span><span class="p">)</span>

<span class="c1"># Finagle the index as a column to count number of authors.</span>
<span class="n">df_pr_authors_sorted_unique</span> <span class="o">=</span> <span class="n">df_pr_authors_sorted_unique</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_pr_authors_sorted_unique</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_pr_authors_sorted_unique</span> <span class="o">=</span> <span class="n">df_pr_authors_sorted_unique</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="first-time-commit-authors-over-time">
<h2>First-time commit authors over time<a class="headerlink" href="#first-time-commit-authors-over-time" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot number of unique authors over time.</span>
<span class="n">df_pr_authors_sorted_unique</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;cmt_author_timestamp&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;# Novel Augur Commit Authors vs. Time&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;# Novel Augur Commit Authors vs. Time&#39;}, xlabel=&#39;cmt_author_timestamp&#39;&gt;
</pre></div>
</div>
<img alt="../_images/community_metrics_34_1.png" src="../_images/community_metrics_34_1.png" />
</div>
</div>
</div>
<div class="section" id="comparison-of-growth-between-new-authors-and-new-committers">
<h2>Comparison of growth between new authors and new committers<a class="headerlink" href="#comparison-of-growth-between-new-authors-and-new-committers" title="Permalink to this headline">¶</a></h2>
<p>We see that the two growth-rates have similar shapes but non-identical growth rates. There are more novel authors than there are novel committers, indicating that in this project, some committers create commits on behalf of one or more authors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_pr_committers_sorted_unique</span><span class="p">[</span><span class="s2">&quot;cmt_committer_timestamp&quot;</span><span class="p">],</span> <span class="n">df_pr_committers_sorted_unique</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;committers&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_pr_authors_sorted_unique</span><span class="p">[</span><span class="s2">&quot;cmt_author_timestamp&quot;</span><span class="p">],</span> <span class="n">df_pr_authors_sorted_unique</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;authors&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Growth of Novel Authors vs. Novel Committers&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/community_metrics_37_0.png" src="../_images/community_metrics_37_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="organizational-diversity">
<h1>Organizational diversity<a class="headerlink" href="#organizational-diversity" title="Permalink to this headline">¶</a></h1>
<p>Deriving organizational diversity is more difficult than doing so for first-degree measurements as we did previously. There are some likely sources of this information including ‘cntrb_canonical’ and ‘cntrb_company.’ It would also likely be useful to relate these to ‘cntrb_location.’ There also exists a table called ‘contributor_affiliations’ that we can cross-reference. However, we need to agree on these derivations and to estimate the extent to which we can rely on our agreed-upon derivations.</p>
<p>e.g. We might agree that we want to use ‘cntrb_canonical’ which gives us the contributors emails. But it can be the case that a significant portion of contributors use their personal emails for these contributions even if they’re acting as representatives of another org. If we use their emails to measure organizational diversity, we will be under-counting their organization.</p>
<p>Once we agree on which fields constitute an organizational diversity measurement we can show this diversity plotted as a pie chart.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_o_divers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">repo_id</span> <span class="ow">in</span> <span class="n">repo_set</span><span class="p">:</span> 

    <span class="n">pr_query</span> <span class="o">=</span> <span class="n">salc</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                SELECT</span>
<span class="s2">                    c.cntrb_login as login,</span>
<span class="s2">                    c.cntrb_company as company_or_institution,</span>
<span class="s2">                    c.cntrb_location as location,</span>
<span class="s2">                    c.cntrb_canonical as email</span>
<span class="s2">                FROM</span>
<span class="s2">                	contributors c</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">df_current_repo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">pr_query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
    <span class="n">df_o_divers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_o_divers</span><span class="p">,</span> <span class="n">df_current_repo</span><span class="p">])</span>

<span class="n">df_o_divers</span> <span class="o">=</span> <span class="n">df_o_divers</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_o_divers</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">df_o_divers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>login</th>
      <th>company_or_institution</th>
      <th>location</th>
      <th>email</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>not-provided</td>
      <td>None</td>
      <td>None</td>
      <td>fosterd@vmware.com</td>
    </tr>
    <tr>
      <th>1</th>
      <td>not-provided</td>
      <td>None</td>
      <td>None</td>
      <td>fosterd@vmware.com</td>
    </tr>
    <tr>
      <th>2</th>
      <td>frots</td>
      <td>None</td>
      <td>None</td>
      <td>fosterd@vmware.com</td>
    </tr>
    <tr>
      <th>3</th>
      <td>stdweird</td>
      <td>Ghent University</td>
      <td>Ghent, Belgium</td>
      <td>fosterd@vmware.com</td>
    </tr>
    <tr>
      <th>4</th>
      <td>acs</td>
      <td>ThingsO2</td>
      <td>Getafe, Madrid, Spain</td>
      <td>alvarodelcastillo@gmail.com</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3449</th>
      <td>eykd</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3450</th>
      <td>huyquocvu</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3451</th>
      <td>sharkbruhaha</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3452</th>
      <td>ricekab</td>
      <td>Pixel-Nexus</td>
      <td>None</td>
      <td>contact@kevinchiyantang.com</td>
    </tr>
    <tr>
      <th>3453</th>
      <td>Bacon-Unlimited</td>
      <td>Bacon Unlimited</td>
      <td>Los Angeles</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>3454 rows × 4 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="number-of-users">
<h1>Number of Users<a class="headerlink" href="#number-of-users" title="Permalink to this headline">¶</a></h1>
<p>We must decide how to define a ‘user’ in this context.</p>
<p>The set of accounts that have (1) submitted an issue, (2) authored a change in a commit, (3) made a commit, (4) made a PR, (5) forked the repo, (6) merged a PR as an admit, etc. is almost certainly an imperfect subset of the users of the software itself (i.e. contributors don’t necessarily use the software, users aren’t necessaryily contributors). Additionally, it is likely that we can never arrive at a way of measuring the exact number of users a piece of open source software has.</p>
<p>We might agree that we can get an imprecise lower-bound on the number of users by summing ( contributors + maintainers + owners + issue makers), which could be useful.</p>
<p>More conversation on this topic is needed in the future.</p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="commits_activity.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Github Activity Metrics-Commits</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="issue_activity.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Github Activity Metrics-Issues</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Red Hat Open Source Program Office<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>